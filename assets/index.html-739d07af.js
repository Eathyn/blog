import{_ as u,W as d,X as k,Y as s,Z as n,$ as o,a1 as a,a0 as i,C as r}from"./framework-0d71bc9d.js";const b={},v=s("h1",{id:"import-loaders",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#import-loaders","aria-hidden":"true"},"#"),n(" import Loaders")],-1),m=s("h2",{id:"role",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#role","aria-hidden":"true"},"#"),n(" Role")],-1),g=s("p",null,"Reference:",-1),h={href:"https://juejin.cn/post/7000519839378833416",target:"_blank",rel:"noopener noreferrer"},_={href:"https://webpack.js.org/loaders/css-loader/#importloaders",target:"_blank",rel:"noopener noreferrer"},y=i('<ul><li>在 CSS 文件中遇到 <code>@import</code> 语法时，Webpack 不会让 <code>css-loader</code> 后面的 loader （例如：<code>postcss-loader</code>）处理被导入的 CSS 文件。通过配置 <code>importLoaders</code>，可以让被导入的 CSS 文件让 <code>css-loader</code> 后面的 loader 处理。</li></ul><h2 id="example" tabindex="-1"><a class="header-anchor" href="#example" aria-hidden="true">#</a> Example</h2><ul><li>未配置 <code>importLoaders</code> 时，<code>css-loader</code> 后面的 loader 不会处理被导入的 CSS 文件。</li></ul>',3),x=s("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[s("pre",{class:"language-javascript"},[s("code",null,[n("module"),s("span",{class:"token punctuation"},"."),n("exports "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token literal-property property"},"plugins"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token punctuation"},"["),s("span",{class:"token string"},"'postcss-preset-env'"),s("span",{class:"token punctuation"},"]"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"highlight-lines"},[s("br"),s("div",{class:"highlight-line"}," "),s("br")]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),f=s("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[s("pre",{class:"language-javascript"},[s("code",null,[n("module"),s("span",{class:"token punctuation"},"."),n("exports "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token literal-property property"},"module"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token literal-property property"},"rules"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token punctuation"},"["),n(`
      `),s("span",{class:"token punctuation"},"{"),n(`
        `),s("span",{class:"token literal-property property"},"test"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token regex"},[s("span",{class:"token regex-delimiter"},"/"),s("span",{class:"token regex-source language-regex"},"\\.css$"),s("span",{class:"token regex-delimiter"},"/"),s("span",{class:"token regex-flags"},"i")]),s("span",{class:"token punctuation"},","),n(`
        `),s("span",{class:"token literal-property property"},"use"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token punctuation"},"["),n(`
          MiniCssExtractPlugin`),s("span",{class:"token punctuation"},"."),n("loader"),s("span",{class:"token punctuation"},","),n(`
          `),s("span",{class:"token string"},"'css-loader'"),s("span",{class:"token punctuation"},","),n(`
          `),s("span",{class:"token string"},"'postcss-loader'"),s("span",{class:"token punctuation"},","),n(`
        `),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(`
      `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),n(`
    `),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(`
  `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),n(`
  `),s("span",{class:"token literal-property property"},"plugins"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token punctuation"},"["),n(`
    `),s("span",{class:"token keyword"},"new"),n(),s("span",{class:"token class-name"},"MiniCssExtractPlugin"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},","),n(`
  `),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{class:"highlight-line"}," "),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),j=s("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[s("pre",{class:"language-javascript"},[s("code",null,[s("span",{class:"token keyword"},"import"),n(),s("span",{class:"token string"},"'./style_a.scss'"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),C=s("div",{class:"language-css line-numbers-mode","data-ext":"css"},[s("pre",{class:"language-css"},[s("code",null,[s("span",{class:"token atrule"},[s("span",{class:"token rule"},"@import"),n(),s("span",{class:"token string"},"'./style_b.css'"),s("span",{class:"token punctuation"},";")]),n(`
`)])]),s("div",{class:"highlight-lines"},[s("div",{class:"highlight-line"}," ")]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),L=s("div",{class:"language-css line-numbers-mode","data-ext":"css"},[s("pre",{class:"language-css"},[s("code",null,[s("span",{class:"token selector"},":fullscreen"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token property"},"background-color"),s("span",{class:"token punctuation"},":"),n(" darkred"),s("span",{class:"token punctuation"},";"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),S=i(`<ul><li><code>style_b.css</code> 没有经过 <code>postcss-loader</code> 处理，因此 <code>:fullscreen</code> 没有浏览器前缀：</li></ul><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token comment">/* output: entry_a.css */</span>
<span class="token selector">:fullscreen</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> darkred<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>配置 <code>importLoaders</code> 之后，<code>style_b.css</code> 经过 <code>postcss-loader</code> 处理，因此 <code>:fullscreen</code> 有浏览器前缀。</li></ul>`,3),w=s("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[s("pre",{class:"language-javascript"},[s("code",null,[n("module"),s("span",{class:"token punctuation"},"."),n("exports "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token literal-property property"},"module"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token literal-property property"},"rules"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token punctuation"},"["),n(`
      `),s("span",{class:"token punctuation"},"{"),n(`
        `),s("span",{class:"token literal-property property"},"test"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token regex"},[s("span",{class:"token regex-delimiter"},"/"),s("span",{class:"token regex-source language-regex"},"\\.css$"),s("span",{class:"token regex-delimiter"},"/"),s("span",{class:"token regex-flags"},"i")]),s("span",{class:"token punctuation"},","),n(`
        `),s("span",{class:"token literal-property property"},"use"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token punctuation"},"["),n(`
          MiniCssExtractPlugin`),s("span",{class:"token punctuation"},"."),n("loader"),s("span",{class:"token punctuation"},","),n(`
          `),s("span",{class:"token punctuation"},"{"),n(`
            `),s("span",{class:"token literal-property property"},"loader"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},"'css-loader'"),s("span",{class:"token punctuation"},","),n(`
            `),s("span",{class:"token literal-property property"},"options"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token punctuation"},"{"),n(`
              `),s("span",{class:"token comment"},"// importLoaders: 1 表示 style_b.css 要被 css-loader 后面的 1 个 loader 处理，即 postcss-loader"),n(`
              `),s("span",{class:"token literal-property property"},"importLoaders"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},","),n(`
            `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),n(`
          `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),n(`
          `),s("span",{class:"token string"},"'postcss-loader'"),s("span",{class:"token punctuation"},","),n(`
        `),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(`
      `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),n(`
    `),s("span",{class:"token punctuation"},"]"),s("span",{class:"token punctuation"},","),n(`
  `),s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},","),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{class:"highlight-line"}," "),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),E=s("div",{class:"language-css line-numbers-mode","data-ext":"css"},[s("pre",{class:"language-css"},[s("code",null,[s("span",{class:"token selector"},":-webkit-full-screen"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token property"},"background-color"),s("span",{class:"token punctuation"},":"),n(" darkred"),s("span",{class:"token punctuation"},";"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`),s("span",{class:"token selector"},":fullscreen"),n(),s("span",{class:"token punctuation"},"{"),n(`
  `),s("span",{class:"token property"},"background-color"),s("span",{class:"token punctuation"},":"),n(" darkred"),s("span",{class:"token punctuation"},";"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"highlight-lines"},[s("div",{class:"highlight-line"}," "),s("br"),s("br"),s("br"),s("br"),s("br")]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),A=s("h2",{id:"resolved-import",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#resolved-import","aria-hidden":"true"},"#"),n(" Resolved Import")],-1),V=s("p",null,"Reference:",-1),M={href:"https://github.com/webpack-contrib/css-loader/issues/228#issuecomment-312885975",target:"_blank",rel:"noopener noreferrer"},P=i(`<ul><li>CSS 的 <code>@import</code> 属于 unresolved import，而 Sass 和 Less 的 <code>@import</code> 属于 resolved import，不需要配置 <code>importLoaders</code>。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.s[ac]ss$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token string">&#39;sass-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="vue" tabindex="-1"><a class="header-anchor" href="#vue" aria-hidden="true">#</a> Vue</h2><ul><li>Vue 项目需要将 <code>importLoaders</code> 设置为 <strong>2</strong>。但理论上只需要设置成 <strong>1</strong>，因为只用了 postcss-loader。目前不知道原因，等我以后看 <code>vue-loader</code> 源码后再写（TODO）。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5);function $(N,R){const c=r("ExternalLinkIcon"),p=r("CodeTabs");return d(),k("div",null,[v,m,s("blockquote",null,[g,s("ul",null,[s("li",null,[s("a",h,[n("blog: importLoaders"),o(c)])]),s("li",null,[s("a",_,[n("docs: importLoaders"),o(c)])])])]),y,o(p,{id:"40",data:[{title:"postcss.config.js"},{title:"webpack.config.js"},{title:"entry_a.js"},{title:"style_a.css"},{title:"style_b.css"}]},{tab0:a(({title:e,value:t,isActive:l})=>[x]),tab1:a(({title:e,value:t,isActive:l})=>[f]),tab2:a(({title:e,value:t,isActive:l})=>[j]),tab3:a(({title:e,value:t,isActive:l})=>[C]),tab4:a(({title:e,value:t,isActive:l})=>[L]),_:1},8,["data"]),S,o(p,{id:"72",data:[{title:"webpack.config.js"},{title:"output: entry_a.css"}]},{tab0:a(({title:e,value:t,isActive:l})=>[w]),tab1:a(({title:e,value:t,isActive:l})=>[E]),_:1},8,["data"]),A,s("blockquote",null,[V,s("ul",null,[s("li",null,[s("a",M,[n("resolved import"),o(c)])])])]),P])}const B=u(b,[["render",$],["__file","index.html.vue"]]);export{B as default};
