import{_ as t,W as o,X as i,Y as n,Z as e,$ as a,a0 as c,C as p}from"./framework-0d71bc9d.js";const u={},r=c(`<h1 id="custom-directive" tabindex="-1"><a class="header-anchor" href="#custom-directive" aria-hidden="true">#</a> Custom Directive</h1><h2 id="对比" tabindex="-1"><a class="header-anchor" href="#对比" aria-hidden="true">#</a> 对比</h2><ul><li>component：复用一整个构建块。</li><li>composable：复用有状态的逻辑。</li><li>custom directive：复用操作 DOM 的逻辑。</li></ul><h2 id="本质" tabindex="-1"><a class="header-anchor" href="#本质" aria-hidden="true">#</a> 本质</h2><ul><li>自定义指令本质上就是一个包含钩子函数的对象，当自定义指令所在的元素挂载（mount）、更新（update）或取消挂载（unmounted）时就会触发这些钩子函数：</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> myDirective <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUnmount</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">unmounted</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="在-vue-不同版本的区别" tabindex="-1"><a class="header-anchor" href="#在-vue-不同版本的区别" aria-hidden="true">#</a> 在 Vue 不同版本的区别</h2>`,7),l={href:"https://v2.vuejs.org/v2/guide/custom-directive.html#Hook-Functions",target:"_blank",rel:"noopener noreferrer"},d={href:"https://vuejs.org/guide/reusability/custom-directives.html#directive-hooks",target:"_blank",rel:"noopener noreferrer"},h=n("code",null,"setup",-1),v=n("code",null,"directives",-1),k=n("code",null,"directives",-1),_={href:"https://v2.vuejs.org/v2/guide/custom-directive.html#Intro",target:"_blank",rel:"noopener noreferrer"},m={href:"https://vuejs.org/guide/reusability/custom-directives.html#introduction",target:"_blank",rel:"noopener noreferrer"},f=n("h2",{id:"其他",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#其他","aria-hidden":"true"},"#"),e(" 其他")],-1),g=n("code",null,"bind",-1),b=n("code",null,"update",-1),j={href:"https://v2.vuejs.org/v2/guide/custom-directive.html#Function-Shorthand",target:"_blank",rel:"noopener noreferrer"},x=n("code",null,"mounted",-1),V=n("code",null,"updated",-1),y={href:"https://vuejs.org/guide/reusability/custom-directives.html#function-shorthand",target:"_blank",rel:"noopener noreferrer"},D={href:"https://v2.vuejs.org/v2/guide/custom-directive.html#Object-Literals",target:"_blank",rel:"noopener noreferrer"},B={href:"https://vuejs.org/guide/reusability/custom-directives.html#object-literals",target:"_blank",rel:"noopener noreferrer"},I={href:"https://vuejs.org/guide/reusability/custom-directives.html#usage-on-components",target:"_blank",rel:"noopener noreferrer"},N={href:"https://v2.vuejs.org/v2/guide/custom-directive.html#Intro",target:"_blank",rel:"noopener noreferrer"},C={href:"https://vuejs.org/guide/reusability/custom-directives.html",target:"_blank",rel:"noopener noreferrer"},E=n("h2",{id:"refs",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#refs","aria-hidden":"true"},"#"),e(" Refs")],-1),L={href:"https://v2.vuejs.org/v2/guide/custom-directive.html",target:"_blank",rel:"noopener noreferrer"},F={href:"https://vuejs.org/guide/reusability/custom-directives.html",target:"_blank",rel:"noopener noreferrer"},M={href:"https://blog.logrocket.com/deep-dive-custom-vue-directives/",target:"_blank",rel:"noopener noreferrer"};function O(S,U){const s=p("ExternalLinkIcon");return o(),i("div",null,[r,n("ul",null,[n("li",null,[e("hooks 不同。"),n("a",l,[e("vue-2"),a(s)]),e(" | "),n("a",d,[e("vue-3"),a(s)])]),n("li",null,[e("vue-3 可以在 "),h,e(" 和 "),v,e(" 中定义，vue-2 只能在 "),k,e(" 中定义。"),n("a",_,[e("vue-2"),a(s)]),e(" | "),n("a",m,[e("vue-3"),a(s)])])]),f,n("ul",null,[n("li",null,[e("在 Vue-2 中，如果只需要定义 "),g,e(" 和 "),b,e(" 钩子函数，就可以使用简易的函数定义指令。"),n("a",j,[e("link"),a(s)])]),n("li",null,[e("在 Vue-3 中，如果只需要定义 "),x,e(" 和 "),V,e(" 钩子函数，就可以使用简易的函数定义指令。"),n("a",y,[e("link"),a(s)])]),n("li",null,[e("自定义指令可以传递多个值。"),n("a",D,[e("vue-2"),a(s)]),e(" | "),n("a",B,[e("vue-3"),a(s)])]),n("li",null,[e("不建议在组件上使用自定义指令。"),n("a",I,[e("link"),a(s)])]),n("li",null,[e("可以定义全局指令。"),n("a",N,[e("vue-2"),a(s)]),e(" | v"),n("a",C,[e("ue-3"),a(s)])])]),E,n("ul",null,[n("li",null,[n("a",L,[e("Docs: Vue-2.x"),a(s)])]),n("li",null,[n("a",F,[e("Docs: Vue-3.x"),a(s)])]),n("li",null,[n("a",M,[e("Blog"),a(s)])])])])}const H=t(u,[["render",O],["__file","index.html.vue"]]);export{H as default};
