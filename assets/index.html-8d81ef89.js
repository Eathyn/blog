const n=JSON.parse(`{"key":"v-d3eac996","path":"/front_end/browser/scroll/skills/","title":"Scroll Skills","lang":"zh-CN","frontmatter":{"date":"2021-02-19T00:00:00.000Z","category":"Browser","tag":"scroll","description":"Scroll Skills 分页加载 // 闭包，为了私有化 index 变量 function generateDataWrap() { let index = 0 return function generateData() { const body = document.querySelector('body') for (let i = 0; i &lt; 10; i++) { const div = document.createElement('div') div.innerText = \`\${index}\` index++ div.setAttribute('class', 'item') body.append(div) } } } const generateData = generateDataWrap() window.addEventListener('scroll', () =&gt; { const html = document.documentElement // html 元素的高度，即可视化区的高度 + 非可视化区的高度 const visibleHeight = window.innerHeight // 可视化区的高度 // 画图理解 if (html.getBoundingClientRect().bottom - 50 &lt; visibleHeight) { generateData() } }) generateData()","head":[["meta",{"property":"og:url","content":"https://eathyn.github.io/blog/blog/front_end/browser/scroll/skills/"}],["meta",{"property":"og:title","content":"Scroll Skills"}],["meta",{"property":"og:description","content":"Scroll Skills 分页加载 // 闭包，为了私有化 index 变量 function generateDataWrap() { let index = 0 return function generateData() { const body = document.querySelector('body') for (let i = 0; i &lt; 10; i++) { const div = document.createElement('div') div.innerText = \`\${index}\` index++ div.setAttribute('class', 'item') body.append(div) } } } const generateData = generateDataWrap() window.addEventListener('scroll', () =&gt; { const html = document.documentElement // html 元素的高度，即可视化区的高度 + 非可视化区的高度 const visibleHeight = window.innerHeight // 可视化区的高度 // 画图理解 if (html.getBoundingClientRect().bottom - 50 &lt; visibleHeight) { generateData() } }) generateData()"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"scroll"}],["meta",{"property":"article:published_time","content":"2021-02-19T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Scroll Skills\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2021-02-19T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[{"level":2,"title":"分页加载","slug":"分页加载","link":"#分页加载","children":[]},{"level":2,"title":"Refs","slug":"refs","link":"#refs","children":[]}],"git":{},"readingTime":{"minutes":0.4,"words":119},"filePathRelative":"front_end/browser/scroll/skills/index.md","localizedDate":"2021年2月19日","excerpt":"<h1> Scroll Skills</h1>\\n<h2> 分页加载</h2>\\n<div class=\\"language-javascript line-numbers-mode\\" data-ext=\\"js\\"><pre class=\\"language-javascript\\"><code><span class=\\"token comment\\">// 闭包，为了私有化 index 变量</span>\\n<span class=\\"token keyword\\">function</span> <span class=\\"token function\\">generateDataWrap</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token keyword\\">let</span> index <span class=\\"token operator\\">=</span> <span class=\\"token number\\">0</span>\\n\\n  <span class=\\"token keyword\\">return</span> <span class=\\"token keyword\\">function</span> <span class=\\"token function\\">generateData</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token keyword\\">const</span> body <span class=\\"token operator\\">=</span> document<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">querySelector</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'body'</span><span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token keyword\\">for</span> <span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">let</span> i <span class=\\"token operator\\">=</span> <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">;</span> i <span class=\\"token operator\\">&lt;</span> <span class=\\"token number\\">10</span><span class=\\"token punctuation\\">;</span> i<span class=\\"token operator\\">++</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n      <span class=\\"token keyword\\">const</span> div <span class=\\"token operator\\">=</span> document<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">createElement</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'div'</span><span class=\\"token punctuation\\">)</span>\\n      div<span class=\\"token punctuation\\">.</span>innerText <span class=\\"token operator\\">=</span> <span class=\\"token template-string\\"><span class=\\"token template-punctuation string\\">\`</span><span class=\\"token interpolation\\"><span class=\\"token interpolation-punctuation punctuation\\">\${</span>index<span class=\\"token interpolation-punctuation punctuation\\">}</span></span><span class=\\"token template-punctuation string\\">\`</span></span>\\n      index<span class=\\"token operator\\">++</span>\\n      div<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">setAttribute</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'class'</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">'item'</span><span class=\\"token punctuation\\">)</span>\\n      body<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">append</span><span class=\\"token punctuation\\">(</span>div<span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token punctuation\\">}</span>\\n  <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token keyword\\">const</span> generateData <span class=\\"token operator\\">=</span> <span class=\\"token function\\">generateDataWrap</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n\\nwindow<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">addEventListener</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'scroll'</span><span class=\\"token punctuation\\">,</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token keyword\\">const</span> html <span class=\\"token operator\\">=</span> document<span class=\\"token punctuation\\">.</span>documentElement <span class=\\"token comment\\">// html 元素的高度，即可视化区的高度 + 非可视化区的高度</span>\\n  <span class=\\"token keyword\\">const</span> visibleHeight <span class=\\"token operator\\">=</span> window<span class=\\"token punctuation\\">.</span>innerHeight <span class=\\"token comment\\">// 可视化区的高度</span>\\n\\n  <span class=\\"token comment\\">// 画图理解</span>\\n  <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span>html<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getBoundingClientRect</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">.</span>bottom <span class=\\"token operator\\">-</span> <span class=\\"token number\\">50</span> <span class=\\"token operator\\">&lt;</span> visibleHeight<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token function\\">generateData</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n  <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n\\n<span class=\\"token function\\">generateData</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{n as data};
