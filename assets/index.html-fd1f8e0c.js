import{_ as t,W as i,X as o,Y as e,Z as a,$ as s,a0 as c,C as r}from"./framework-c8ebc670.js";const l="/blog/assets/check-package-and-subpackage-information-ad84af52.png",d={},p=e("h1",{id:"分包",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#分包","aria-hidden":"true"},"#"),a(" 分包")],-1),u=e("h2",{id:"原因",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#原因","aria-hidden":"true"},"#"),a(" 原因")],-1),h={href:"https://developers.weixin.qq.com/miniprogram/dev/framework/performance/tips/start_optimizeA.html",target:"_blank",rel:"noopener noreferrer"},k=e("ul",null,[e("li",null,"主包的体积上限为 2M，如果超过 2M 需要进行分包。"),e("li",null,"可以显著减少启动时需要下载的代码包大小。")],-1),g=e("h2",{id:"使用分包",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#使用分包","aria-hidden":"true"},"#"),a(" 使用分包")],-1),m={href:"https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages/basic.html",target:"_blank",rel:"noopener noreferrer"},b=c(`<h3 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h3><ul><li>在 <code>app.json</code> 中定义 <code>subpackages</code> 字段，在该字段中定义分包。</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;subpackages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;root&quot;</span><span class="token operator">:</span> <span class="token string">&quot;packageA&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;pages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;pages/cat/cat&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;pages/dog/dog&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>在 <code>微信开发者工具-&gt;详情-&gt;基本信息-&gt;代码依赖分析</code> 中可以查看主包和分包的信息。</li></ul><figure><img src="`+l+'" alt="查看主包和分包的信息" tabindex="0" loading="lazy"><figcaption>查看主包和分包的信息</figcaption></figure><h3 id="打包原则" tabindex="-1"><a class="header-anchor" href="#打包原则" aria-hidden="true">#</a> 打包原则</h3><ul><li><code>subpackages</code> 配置路径外的目录将被打包到主包中。</li><li><code>subpackage</code> 的根目录不能是另外一个 <code>subpackage</code> 内的子目录。</li><li><code>tabBar</code> 页面必须在主包内。</li></ul><h3 id="引用原则" tabindex="-1"><a class="header-anchor" href="#引用原则" aria-hidden="true">#</a> 引用原则</h3><ul><li>packageA 无法 require packageB JS 文件，但可以 require 主包、packageA 内的 JS 文件；使用分包异步化时不受此条限制。</li><li>packageA 无法 import packageB 的 template，但可以 require 主包、packageA 内的 template。</li><li>packageA 无法使用 packageB 的资源，但可以使用主包、packageA 内的资源。</li></ul><h2 id="独立分包" tabindex="-1"><a class="header-anchor" href="#独立分包" aria-hidden="true">#</a> 独立分包</h2><ul><li>独立分包是小程序中一种特殊的分包，可以独立与于主包和其他分包运行。从独立分包中页面进入小程序时，不需要下载主包。当用户进入普通分包或主包内页面时，主包才会被下载。</li></ul>',11);function v(_,f){const n=r("ExternalLinkIcon");return i(),o("div",null,[p,u,e("blockquote",null,[e("p",null,[a("Reference: "),e("a",h,[a("使用分包的原因"),s(n)])])]),k,g,e("blockquote",null,[e("p",null,[a("Reference: "),e("a",m,[a("使用分包"),s(n)])])]),b])}const x=t(d,[["render",v],["__file","index.html.vue"]]);export{x as default};
