import{_ as p,W as o,X as c,Y as n,Z as s,$ as e,a0 as t,C as i}from"./framework-0d71bc9d.js";const l="/blog/assets/rem-iphone-6-151122cb.png",r="/blog/assets/rem-iphone-xr-e5eb18e7.png",u="/blog/assets/vw-iphone-6-c07461ac.png",d="/blog/assets/vw-iphone-xr-0af69fae.png",k="/blog/assets/blurry-img-reason-7a7d57cc.png",v="/blog/assets/safe_area-3617c595.png",m={},h=t('<h1 id="移动端屏幕适配" tabindex="-1"><a class="header-anchor" href="#移动端屏幕适配" aria-hidden="true">#</a> 移动端屏幕适配</h1><h2 id="技术名词" tabindex="-1"><a class="header-anchor" href="#技术名词" aria-hidden="true">#</a> 技术名词</h2><ul><li>设备像素（Device Pixels）/ 物理像素（Physical Pixels）：物理设备水平和垂直方向上的像素</li><li>设备独立像素（Density-Independent Pixels）/ 逻辑像素（Logical Pixels）：在浏览器里看到的那个像素</li><li>设备像素比（Device Pixel Ratio）：设备像素 ÷ 设备独立像素</li><li>CSS 像素：设备独立像素 * 缩放比例</li><li>PPI（Pixel Per Inch）：每英寸包含的设备像素数。用于描述图片或屏幕的清晰度，越高越清晰</li><li>DPI（Dot Per Inch）：每英寸包含的点。一般用于打印机的墨点</li></ul><h2 id="解决方案-1-rem" tabindex="-1"><a class="header-anchor" href="#解决方案-1-rem" aria-hidden="true">#</a> 解决方案-1: Rem</h2>',4),g={href:"https://github.com/Eathyn/mobile-screen-adapation-solution/tree/rem",target:"_blank",rel:"noopener noreferrer"},b=t('<h3 id="原理" tabindex="-1"><a class="header-anchor" href="#原理" aria-hidden="true">#</a> 原理</h3><ul><li>将 <code>html</code> 的 <code>font-size</code> 设置为屏幕宽度的百分之一。因为 <code>rem</code> 相对于 html 的 <code>font-size</code>，所以 <code>rem</code> 等于屏幕宽度的百分之一。此时 <code>10rem</code> 在<strong>不同</strong>屏幕下都表示屏幕宽度的百分之十，解决了适配问题。</li><li>因为设计师给开发者的设计稿的尺寸单位都是 <code>px</code>，所以需要把 <code>px</code> 转化为 <code>rem</code>。使用 <code>postcss</code> 的插件 <code>postcss-pxtorem</code> 可以将 <code>px</code> 自动转化为 <code>rem</code>，开发者不需要自己计算。</li></ul><h3 id="代码解析" tabindex="-1"><a class="header-anchor" href="#代码解析" aria-hidden="true">#</a> 代码解析</h3><p>通过 <code>document.documentElement.clientWidth</code> 获取屏幕宽度，将 <code>html</code> 的 <code>font-size</code> 设置为屏幕宽度的百分之一。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> htmlEle <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement\n<span class="token keyword">const</span> screenWidth <span class="token operator">=</span> htmlEle<span class="token punctuation">.</span>clientWidth\nhtmlEle<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>screenWidth <span class="token operator">/</span> <span class="token number">100</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',5),f=n("code",null,"postcss-pxtorem",-1),x=n("code",null,"iPhone 6",-1),_=n("code",null,"iPhone 6",-1),y=n("code",null,"375 * 667",-1),w=n("code",null,"rem",-1),q=n("code",null,"rootValue",-1),P=n("code",null,"3.75",-1),j={href:"https://github.com/cuth/postcss-pxtorem#options",target:"_blank",rel:"noopener noreferrer"},E=t(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// postcss.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;postcss-pxtorem&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">rootValue</span><span class="token operator">:</span> <span class="token number">3.75</span><span class="token punctuation">,</span>
      <span class="token literal-property property">propList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="效果图" tabindex="-1"><a class="header-anchor" href="#效果图" aria-hidden="true">#</a> 效果图</h3><p>如 <code>图-1</code> 所示，因为 iPhone-6 的屏幕宽度为 <code>375</code> px，所以 <code>html</code> 的 <code>font-size</code> 为 <code>3.75</code>（375 / 100）px。另外可以看到 <code>.item</code> 类的单位使用了 <code>rem</code>，说明了 <code>postcss-pxtorem</code> 自动将 <code>px</code> 转化成 <code>rem</code>。</p><figure><img src="`+l+'" alt="图-1 iPhone-6 的适配效果" tabindex="0" loading="lazy"><figcaption>图-1 iPhone-6 的适配效果</figcaption></figure><hr><p>如 <code>图-2</code> 所示，因为 iPhone-XR 的屏幕宽度为 <code>414</code> px，所以 <code>html</code> 的 <code>font-size</code> 为 <code>4.14</code>（414 / 100）px。</p><figure><img src="'+r+'" alt="图-2 iPhone-XR 的适配效果" tabindex="0" loading="lazy"><figcaption>图-2 iPhone-XR 的适配效果</figcaption></figure><h2 id="解决方案-2-vw" tabindex="-1"><a class="header-anchor" href="#解决方案-2-vw" aria-hidden="true">#</a> 解决方案-2: VW</h2>',8),R={href:"https://github.com/Eathyn/mobile-screen-adapation-solution/tree/main",target:"_blank",rel:"noopener noreferrer"},z=t('<h3 id="原理-1" tabindex="-1"><a class="header-anchor" href="#原理-1" aria-hidden="true">#</a> 原理</h3><ul><li><code>vw</code> 相当于屏幕宽度的百分之一，因此 <code>10vw</code> 在<strong>不同</strong>屏幕下都表示屏幕宽度的百分之十，解决了适配问题。</li><li>因为设计师给开发者的设计稿的尺寸单位都是 <code>px</code>，所以需要把 <code>px</code> 转化为 <code>vw</code>。使用 <code>postcss</code> 的插件 <code>postcss-px-to-viewport</code> 可以将 <code>px</code> 自动转化为 <code>vw</code>，开发者不需要自己计算。</li></ul><h3 id="代码解析-1" tabindex="-1"><a class="header-anchor" href="#代码解析-1" aria-hidden="true">#</a> 代码解析</h3>',3),D=n("code",null,"postcss-px-to-viewport",-1),I=n("code",null,"iPhone 6",-1),S=n("code",null,"iPhone 6",-1),V=n("code",null,"375 * 667",-1),W=n("code",null,"viewportWidth",-1),X=n("code",null,"375",-1),L={href:"https://github.com/evrone/postcss-px-to-viewport",target:"_blank",rel:"noopener noreferrer"},$=t(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// postcss.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;postcss-px-to-viewport&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">unitToConvert</span><span class="token operator">:</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">viewportWidth</span><span class="token operator">:</span> <span class="token number">375</span><span class="token punctuation">,</span>
      <span class="token literal-property property">unitPrecision</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token literal-property property">propList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">viewportUnit</span><span class="token operator">:</span> <span class="token string">&#39;vw&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fontViewportUnit</span><span class="token operator">:</span> <span class="token string">&#39;vw&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">selectorBlackList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minPixelValue</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="效果图-1" tabindex="-1"><a class="header-anchor" href="#效果图-1" aria-hidden="true">#</a> 效果图</h3><p>如 <code>图-3</code> 所示，因为 iPhone-6 的屏幕宽度为 <code>375</code> px，所以小方块的宽度为 <code>37.5</code> px 即 <code>10</code> vw。另外可以看到 <code>.item</code> 类的单位使用了 <code>vw</code>，说明了 <code>postcss-px-to-viewport</code> 自动将 <code>px</code> 转化成 <code>vw</code>。</p><figure><img src="`+u+'" alt="图-3 iPhone-6 的适配效果" tabindex="0" loading="lazy"><figcaption>图-3 iPhone-6 的适配效果</figcaption></figure><hr><p>如 <code>图-4</code> 所示，因为 iPhone-XR 的屏幕宽度为 <code>414</code> px，所以小方块的宽度为 <code>41.4</code> px 即 <code>10</code> vw。</p><figure><img src="'+d+'" alt="图-4 iPhone-XR 的适配效果" tabindex="0" loading="lazy"><figcaption>图-4 iPhone-XR 的适配效果</figcaption></figure><h3 id="注意" tabindex="-1"><a class="header-anchor" href="#注意" aria-hidden="true">#</a> 注意</h3><p><code>postcss-px-to-viewport</code> 插件与 <code>postcss 8</code> 搭配使用时会出现如下警告：</p><blockquote><p>postcss-px-to-viewport: postcss.plugin was deprecated. Migration guide: https://evilmartians.com/chronicles/postcss-8-plugin-migration</p></blockquote><p>将 <code>postcss-px-to-viewport</code> 插件更换为 <code>postcss-px-to-viewport-8-plugin</code> 可以避免上述问题。</p>',11),C={href:"https://github.com/Eathyn/mobile-screen-adapation-solution/tree/vw-fix",target:"_blank",rel:"noopener noreferrer"},B=t(`<h2 id="产生的问题和解决方案" tabindex="-1"><a class="header-anchor" href="#产生的问题和解决方案" aria-hidden="true">#</a> 产生的问题和解决方案</h2><h3 id="_1px" tabindex="-1"><a class="header-anchor" href="#_1px" aria-hidden="true">#</a> 1px</h3><p>当你想画一条 1px <strong>物理</strong>像素的线时，你可能会这么实现：</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.item</span> <span class="token punctuation">{</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #000<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>但这是错误的，因为上述代码的 1px 是<strong>逻辑</strong>像素。在 DPR = 2 的设备中，1px 逻辑像素等于 2px 物理像素；在 DPR = 3 的设备中，1px 逻辑像素等于 3px 物理像素。也许你的解决方案是获取设备的 DPR，然后 1px 物理像素就可以用 <code>1px / DPR</code> 表示：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">DPR</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>devicePixelRatio<span class="token punctuation">)</span>
<span class="token keyword">const</span> onePhysicalPixel <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token constant">DPR</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">\`</span></span>
<span class="token keyword">const</span> item <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;.item&#39;</span><span class="token punctuation">)</span>
item<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&#39;#000&#39;</span>
item<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>onePhysicalPixel<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这种方法在如今大部分机型上表现都正常，但是在 IOS-8 以下的系统或者低版本的安卓机上会把低于 1px 的像素转化为 0px。为了兼容低版本的设备，有以下方法：</p>`,7),N={href:"https://github.com/Eathyn/1px-solution/tree/transform-scale",target:"_blank",rel:"noopener noreferrer"},M={href:"https://github.com/Eathyn/1px-solution/blob/transform-scale/src/css/index.css",target:"_blank",rel:"noopener noreferrer"},O=t(`<div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.line</span> <span class="token punctuation">{</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
	<span class="token property">transform-origin</span><span class="token punctuation">:</span> 50% 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">-webkit-device-pixel-ratio</span><span class="token punctuation">:</span> 2<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
	<span class="token selector">.line</span> <span class="token punctuation">{</span>
		<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleY</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span>1 / 2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">-webkit-device-pixel-ratio</span><span class="token punctuation">:</span> 3<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
	<span class="token selector">.line</span> <span class="token punctuation">{</span>
		<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleY</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span>1 / 3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),Y={href:"https://github.com/Eathyn/1px-solution/tree/viewport-scale",target:"_blank",rel:"noopener noreferrer"},A={href:"https://github.com/Eathyn/1px-solution/blob/viewport-scale/src/main.js",target:"_blank",rel:"noopener noreferrer"},T=t(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">DPR</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>devicePixelRatio<span class="token punctuation">)</span>
<span class="token keyword">const</span> scale <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token constant">DPR</span>
<span class="token keyword">const</span> meta <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;meta[name=&quot;viewport&quot;]&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>meta<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> meta <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;meta&#39;</span><span class="token punctuation">)</span>
  meta<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;viewport&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
meta<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;content&#39;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">
  width=device-width,
  initial-scale=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>scale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,
  minimum-scale=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>scale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,
  user-scalable=no
</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="图片模糊" tabindex="-1"><a class="header-anchor" href="#图片模糊" aria-hidden="true">#</a> 图片模糊</h3><p>图片是由像素组成，如果一个图片像素使用一个物理像素渲染，就可以达到最佳的显示效果。但是在 DPR 等于 2 或 3 的屏幕中，一个图片像素使用一或二个物理像素渲染，导致物理像素点不能被分配上准确的颜色，那么就会出现图片模糊的情况。如下图所示：</p><figure><img src="`+k+'" alt="图片模糊的原因" tabindex="0" loading="lazy"><figcaption>图片模糊的原因</figcaption></figure><p>因此我们针对不同 DPR 的屏幕，展示不同分辨率的图片。解决方式有：</p>',5),U={href:"https://github.com/Eathyn/image-adaptation/tree/media-query",target:"_blank",rel:"noopener noreferrer"},H=t(`<div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.item</span> <span class="token punctuation">{</span>
	<span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
	<span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;../images/car@1x.jpg&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
	<span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
	<span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">-webkit-device-pixel-ratio</span><span class="token punctuation">:</span> 2<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
	<span class="token selector">.item</span> <span class="token punctuation">{</span>
		<span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;../images/car@2x.jpg&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">-webkit-device-pixel-ratio</span><span class="token punctuation">:</span> 3<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
	<span class="token selector">.item</span> <span class="token punctuation">{</span>
		<span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;../images/car@3x.jpg&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),Z={href:"https://github.com/Eathyn/image-adaptation/tree/image-set",target:"_blank",rel:"noopener noreferrer"},F={href:"https://github.com/Eathyn/image-adaptation/blob/image-set/src/main.css",target:"_blank",rel:"noopener noreferrer"},G=t(`<div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.item</span> <span class="token punctuation">{</span>
	<span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
	<span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">image-set</span><span class="token punctuation">(</span>
		<span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;../images/car-150by100.jpg&quot;</span><span class="token punctuation">)</span></span> 1x<span class="token punctuation">,</span>
		<span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;../images/car-300by199.jpg&quot;</span><span class="token punctuation">)</span></span> 2x<span class="token punctuation">,</span>
		<span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;../images/car-640by425.jpg&quot;</span><span class="token punctuation">)</span></span> 3x
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">-webkit-image-set</span><span class="token punctuation">(</span>
		<span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;../images/car-150by100.jpg&quot;</span><span class="token punctuation">)</span></span> 1x<span class="token punctuation">,</span>
		<span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;../images/car-300by199.jpg&quot;</span><span class="token punctuation">)</span></span> 2x<span class="token punctuation">,</span>
		<span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;../images/car-640by425.jpg&quot;</span><span class="token punctuation">)</span></span> 3x
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
	<span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),J={href:"https://github.com/Eathyn/image-adaptation/tree/srcset",target:"_blank",rel:"noopener noreferrer"},K=t(`<div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>car<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../images/car@1x.jpg<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../images/car@2x.jpg 2x, ../images/car@3x.jpg 3x<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>car<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
</code></pre><div class="highlight-lines"><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>svg，适用于图片或背景图片</li></ul><h3 id="安全区适配" tabindex="-1"><a class="header-anchor" href="#安全区适配" aria-hidden="true">#</a> 安全区适配</h3>`,3),Q={href:"https://github.com/Eathyn/solution-safe-area",target:"_blank",rel:"noopener noreferrer"},nn=t('<p>安全区：排除手机屏幕的圆角、刘海和小黑条的可视窗口。如图所示：</p><figure><img src="'+v+'" alt="安全区" tabindex="0" loading="lazy"><figcaption>安全区</figcaption></figure><p>想要将网页限制在安全区中，需要如下步骤：</p><ul><li><code>meta</code> 元素中设置 <code>viewport-fit=cover</code></li><li><code>padding</code> 或 <code>margin</code> 设置 <code>constant(safe-area-inset-bottom)</code>。适用于 IOS 版本 &lt; 11.2 的情况。</li><li><code>padding</code> 或 <code>margin</code> 设置 <code>env(safe-area-inset-bottom)</code>。适用于 IOS 版本 &gt;= 11.2 的情况。</li><li><code>constant</code> 的位置需要 <code>env</code> 上面。</li></ul>',4),sn={href:"https://github.com/Eathyn/solution-safe-area/blob/main/public/index.html",target:"_blank",rel:"noopener noreferrer"},an=t(`<div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span>
  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>
    width=device-width,
    initial-scale=1,
    maximum-scale=1,
    minimum-scale=1,
    user-scalable=no,
    viewport-fit=cover
  <span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),en={href:"https://github.com/Eathyn/solution-safe-area/blob/main/src/css/index.css",target:"_blank",rel:"noopener noreferrer"},tn=t(`<div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
	<span class="token property">padding-top</span><span class="token punctuation">:</span> <span class="token function">constant</span><span class="token punctuation">(</span>safe-area-inset-top<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">padding-top</span><span class="token punctuation">:</span> <span class="token function">env</span><span class="token punctuation">(</span>safe-area-inset-top<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token property">padding-bottom</span><span class="token punctuation">:</span> <span class="token function">constant</span><span class="token punctuation">(</span>safe-area-inset-bottom<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">padding-bottom</span><span class="token punctuation">:</span> <span class="token function">env</span><span class="token punctuation">(</span>safe-area-inset-bottom<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token property">padding-left</span><span class="token punctuation">:</span> <span class="token function">constant</span><span class="token punctuation">(</span>safe-area-inset-left<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">padding-left</span><span class="token punctuation">:</span> <span class="token function">env</span><span class="token punctuation">(</span>safe-area-inset-left<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token property">padding-right</span><span class="token punctuation">:</span> <span class="token function">constant</span><span class="token punctuation">(</span>safe-area-inset-right<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">padding-right</span><span class="token punctuation">:</span> <span class="token function">env</span><span class="token punctuation">(</span>safe-area-inset-right<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="refs" tabindex="-1"><a class="header-anchor" href="#refs" aria-hidden="true">#</a> Refs</h2>`,2),pn={href:"https://www.zhihu.com/question/63663871/answer/2439525582",target:"_blank",rel:"noopener noreferrer"},on={href:"https://juejin.cn/post/6844903845617729549#heading-37",target:"_blank",rel:"noopener noreferrer"},cn={href:"https://juejin.cn/post/6844903845617729549#heading-30",target:"_blank",rel:"noopener noreferrer"},ln={href:"https://juejin.cn/post/6844904106088202254",target:"_blank",rel:"noopener noreferrer"};function rn(un,dn){const a=i("ExternalLinkIcon");return o(),c("div",null,[h,n("p",null,[n("a",g,[s("源码"),e(a)])]),b,n("p",null,[s("配置 "),f,s(" 插件的选项，因为设计师给开发者的设计稿是 "),x,s("，"),_,s(" 的屏幕尺寸是 "),y,s(" px，并且我将 "),w,s(" 设置为屏幕的宽度的百分之一，所以 "),q,s(" 选项的值为 "),P,s("（375 / 100）。更多选项配置参考"),n("a",j,[s("插件文档"),e(a)]),s("。")]),E,n("p",null,[n("a",R,[s("源码"),e(a)])]),z,n("p",null,[s("配置 "),D,s(" 插件的选项，因为设计师给开发者的设计稿是 "),I,s("，"),S,s(" 的屏幕尺寸是 "),V,s(" px，所以 "),W,s(" 选项的值为 "),X,s("。更多选项配置参考"),n("a",L,[s("插件文档"),e(a)]),s("。")]),$,n("p",null,[n("a",C,[s("源码"),e(a)])]),B,n("ul",null,[n("li",null,[s("transform 缩放（"),n("a",N,[s("源码"),e(a)]),s("）。代码如下：")])]),n("blockquote",null,[n("p",null,[n("a",M,[s("src/css/index.css"),e(a)])])]),O,n("ul",null,[n("li",null,[s("设置 meta 元素的 viewport 缩放，让逻辑像素等于物理像素（"),n("a",Y,[s("源码"),e(a)]),s("）。代码如下：")])]),n("blockquote",null,[n("p",null,[n("a",A,[s("src/main.js"),e(a)])])]),T,n("ul",null,[n("li",null,[s("媒体查询，适用于背景图片（"),n("a",U,[s("源码"),e(a)]),s("）。代码如下：")])]),H,n("ul",null,[n("li",null,[s("image-set，适用于背景图片（"),n("a",Z,[s("源码"),e(a)]),s("）。代码如下：")])]),n("blockquote",null,[n("p",null,[n("a",F,[s("src/main.css"),e(a)])])]),G,n("ul",null,[n("li",null,[s("srcset，适用于图片（"),n("a",J,[s("源码"),e(a)]),s("）。代码如下：")])]),K,n("p",null,[n("a",Q,[s("源码"),e(a)])]),nn,n("blockquote",null,[n("p",null,[n("a",sn,[s("public/index.html"),e(a)])])]),an,n("blockquote",null,[n("p",null,[n("a",en,[s("src/css/index.css"),e(a)])])]),tn,n("ul",null,[n("li",null,[n("a",pn,[s("技术名词和解决方案"),e(a)])]),n("li",null,[n("a",on,[s("图片模糊的原因和解决方案"),e(a)])]),n("li",null,[n("a",cn,[s("移动端安全区处理"),e(a)])]),n("li",null,[n("a",ln,[s("微信小程序和 H5 的安全区处理"),e(a)])])])])}const vn=p(m,[["render",rn],["__file","index.html.vue"]]);export{vn as default};
